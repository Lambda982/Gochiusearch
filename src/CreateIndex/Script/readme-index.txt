------------------------------------
動画からインデックスを作成する
------------------------------------
■ 概要
任意の動画を Gochiusearch で検索可能な状態にするためには
下記の手順を行います。

1. 動画を画像に変換する
2. 画像を似た画像毎にフォルダに振り分ける
3. 振り分けられたフォルダの構造をindex.dbに格納する
4. index.db を Gochiusearch.exe と同じフォルダにコピーする

■ 詳細
以下はコマンドプロンプトで実行してください。

1. 動画を画像に変換する
ffmpeg 等を利用して動画を画像に変換します。
avi2jpg.bat の内容などを参照してください。複数の動画を
まとめて変換する場合は repeat.bat の内容を参照してください。

動画の各コマに対して、動画識別用のファイル名を付けて保存します。
ファイル名の形式は以下の通りです。

(作品名毎に定めたID)_(話数ID)_(動画内のフレーム番号).jpg

作品名毎に定めたID:   0から65535までの数字が指定できます。
話数ID:               0から65535までの数字が指定できます。
                      「13.5話」のような小数などを含む場合に備え
                      IDとして定義しています。実際の話数は、
                      index.txt (*) に記載してください。
動画内のフレーム番号: 0 から 2^32-1 までの数字が指定できます。

(*) index.txt の書式は下記の通りです。Gochiusearch.exe と同じ
    フォルダにある index.txt の内容も参考にしてください。

(作品名毎に定めたID),(話数ID),(動画のフレームレート),(話数も含むタイトル),(ニコニコ動画の参照URL(**))

(**)省略することができます

2. 画像を似た画像毎にフォルダに振り分ける
CreateIndex.exe を利用して似た画像を振り分けます。
書式は以下の通りです。

createindex (1.で作成した画像のフォルダ) (出力先フォルダ)

例)
createindex output g:\

3. 振り分けられたフォルダの構造をindex.dbに格納する
CreateDb.exe を利用してフォルダ構造をindex.dbに格納します
書式は以下の通りです。

createdb (2で指定した出力フォルダ)

例)
createdb g:\

4. index.db を Gochiusearch.exe と同じフォルダにコピーする

3.で実行して作成したindex.dbを　Gochiusearch.exe と同じフォルダにコピーしてください。
